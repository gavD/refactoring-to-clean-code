See http://www.amaxus.com/cms-blog/refactoring-to-clean-code
